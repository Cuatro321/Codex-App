<ion-header translucent="true">
  <ion-toolbar class="nexo-toolbar">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title class="nexo-brand">Emblemas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <div class="ion-padding">
    <div class="codex-card">
      <h2 class="codex-title">Emblemas del Nexo</h2>
      <p class="codex-subtitle">
        Sincronizados desde el panel de administración del sitio.
      </p>
    </div>

    <ion-list class="codex-list" style="margin-top: 1rem;">
      <ng-container *ngIf="emblemas$ | async as emblemas; else loading">
        <ion-item *ngFor="let em of emblemas">
          <ion-avatar slot="start" *ngIf="em.imageUrl || em.gifUrl">
            <img [src]="em.gifUrl || em.imageUrl" [alt]="em.name" />
          </ion-avatar>

          <ion-label>
            <h2>{{ em.name }}</h2>
            <p>
              {{ em.quote || em.usage || em.description }}
            </p>
            <p style="font-size: 0.7rem; opacity: 0.7;">
              Rareza: {{ em.rarity || 'desconocida' }}
            </p>
          </ion-label>
        </ion-item>
      </ng-container>

      <ng-template #loading>
        <p style="margin-top: 1rem; opacity: 0.7;">Cargando emblemas…</p>
      </ng-template>
    </ion-list>
  </div>
</ion-content>
